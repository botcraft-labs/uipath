<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bot Craft Resume Studio - Pro Edition</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Playfair+Display:wght@700&family=Montserrat:wght@700&family=Fira+Code:wght@400;700&family=Quicksand:wght@600&display=swap');
    :root { --glass: rgba(255, 255, 255, 0.1); --border: rgba(255, 255, 255, 0.2); --accent: #38bdf8; --neon: 0 0 10px rgba(56, 189, 248, 0.6); }
    body { font-family: 'Inter', sans-serif; background: radial-gradient(circle at top right, #1e293b, #020617); min-height: 100vh; color: #f8fafc; padding-top: 80px; }
    .glass-panel { background: var(--glass); backdrop-filter: blur(12px); border: 1px solid var(--border); border-radius: 20px; padding: 25px; box-shadow: 0 8px 32px rgba(0,0,0,0.3); }
    .glass-btn { background: rgba(255, 255, 255, 0.08); backdrop-filter: blur(8px); border: 1px solid var(--border); color: white; transition: 0.3s; font-weight: 600; border-radius: 8px; font-size: 0.8rem; }
    .glass-btn:hover { background: rgba(255, 255, 255, 0.2); border-color: var(--accent); box-shadow: 0 0 15px var(--accent); transform: translateY(-1px); }
    .form-control, .rich-editor { background: rgba(255,255,255,0.05) !important; border: 1px solid var(--accent) !important; color: rgba(255, 255, 255, 0.8) !important; box-shadow: var(--neon); transition: 0.3s; }
    .form-control:focus, .rich-editor:focus { box-shadow: 0 0 20px var(--accent); outline: none; }
    
    /* 50% Transparency Half White Placeholders */
    .form-control::placeholder { color: rgba(255, 255, 255, 0.5) !important; opacity: 1; }
    .rich-editor:empty:before { content: attr(data-placeholder); color: rgba(255, 255, 255, 0.5); font-style: italic; }

    .resume-preview { background: white; color: #1e293b; border-radius: 8px; min-height: 1123px; padding: 50px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); position: relative; }
    .page-break-guide { position: absolute; left: 0; right: 0; height: 1px; border-top: 2px dashed #ff4757; opacity: 0.4; pointer-events: none; z-index: 100; }
    .page-break-guide::after { content: "✂ PAGE SPLIT"; position: absolute; right: 20px; top: -12px; font-size: 9px; font-weight: 800; background: #ff4757; color: white; padding: 2px 8px; border-radius: 4px; }
    .section-header { border-bottom: 2px solid #334155; margin: 15px 0 10px; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; }
    .rich-editor { min-height: 50px; padding: 8px; border-radius: 5px; font-size: 0.85rem; }
    .toolbar { display: flex; gap: 2px; margin-bottom: 4px; }
    .toolbar button { padding: 1px 6px; font-size: 0.65rem; background: rgba(255,255,255,0.1); color: white; border: 1px solid var(--border); border-radius: 4px; }
    .entry-card { background: rgba(0,0,0,0.2); border: 1px solid var(--border); padding: 12px; border-radius: 12px; margin-bottom: 12px; }
    label { font-size: 0.65rem; color: #94a3b8; font-weight: 700; text-transform: uppercase; margin-bottom: 2px; display: block; }
    
    .gallery-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 2000; display: none; padding: 40px; overflow-y: auto; backdrop-filter: blur(10px); }
    .template-card { background: #1e293b; border-radius: 12px; padding: 12px; cursor: pointer; transition: 0.3s; border: 1px solid var(--border); height: 100%; }
    .template-card:hover { border-color: var(--accent); transform: translateY(-5px); box-shadow: var(--neon); }
    .preview-box { height: 140px; background: #f8fafc; border-radius: 4px; margin-bottom: 8px; position: relative; overflow: hidden; padding: 10px; display: flex; flex-direction: column; gap: 4px; }
    .mini-line { height: 3px; background: #e2e8f0; border-radius: 1px; width: 100%; }
    .mini-dot { width: 12px; height: 12px; background: var(--accent); border-radius: 50%; position: absolute; top: 10px; right: 10px; opacity: 0.5; }
    .mini-head { height: 6px; background: #475569; width: 50%; border-radius: 1px; }
    .apollo-preview { align-items: center; }
    .sidebar-preview { flex-direction: row; }
    .sidebar-preview .mini-sidebar { width: 30%; background: #f1f5f9; height: 100%; margin: -10px; padding: 10px; }
</style>
</head>
<body>

<div id="gallery" class="gallery-overlay">
    <div class="d-flex justify-content-between align-items-center mb-4 border-bottom border-secondary pb-3">
        <h2 class="text-white m-0">Studio Gallery <small class="text-info fs-6">(100+ Styles)</small></h2>
        <button class="btn btn-outline-light btn-sm" onclick="closeGallery()">Close</button>
    </div>
    <div class="row g-4" id="gallery-grid"></div>
</div>

<nav class="navbar fixed-top bg-dark border-bottom border-secondary">
    <div class="container-fluid px-4">
        <span class="navbar-brand text-info fw-bold">✨ BOT CRAFT STUDIO</span>
        <div class="d-flex gap-2">
            <button class="btn glass-btn text-info" onclick="openGallery()">Templates</button>
            <button class="btn glass-btn" onclick="exportJSON()">Save</button>
            <button class="btn glass-btn" onclick="document.getElementById('importInput').click()">Load</button>
            <input type="file" id="importInput" style="display:none" onchange="importJSON(event)">
            <button class="btn glass-btn-danger glass-btn" onclick="resetForm()">Reset</button>
            <button class="btn glass-btn px-4" style="background: var(--accent); color: #000" onclick="exportPDF()">Download PDF</button>
        </div>
    </div>
</nav>

<div class="container-fluid px-4">
    <div class="row g-4">
        <div class="col-lg-5" style="height: calc(100vh - 100px); overflow-y: auto;">
            <div class="glass-panel">
                <div class="row g-2 mb-3">
                    <div class="col-4"><label>Accent</label><input type="color" class="form-control p-1" value="#38bdf8" oninput="updateAccent(this.value)"></div>
                    <div class="col-4"><label>Font</label><input type="color" id="fontColor" class="form-control p-1" value="#1e293b" oninput="liveUpdate()"></div>
                    <div class="col-4"><label>Paper</label><input type="color" id="bgColor" class="form-control p-1" value="#ffffff" oninput="liveUpdate()"></div>
                </div>

                <div class="row g-2">
                    <div class="col-6"><label>First Name</label><input id="fn" class="form-control" placeholder="FIRST NAME" oninput="liveUpdate()"></div>
                    <div class="col-6"><label>Last Name</label><input id="ln" class="form-control" placeholder="LAST NAME" oninput="liveUpdate()"></div>
                </div>
                <div class="row g-2 mt-2">
                    <div class="col-12"><label>Contact</label>
                        <input id="em" class="form-control mb-1" placeholder="email@example.com" oninput="liveUpdate()">
                        <input id="ph" class="form-control mb-1" placeholder="Phone" oninput="liveUpdate()">
                        <input id="lc" class="form-control" placeholder="Location" oninput="liveUpdate()">
                    </div>
                </div>

                <div class="mt-4"><label>Summary</label>
                    <div class="toolbar"><button onclick="format('bold')">B</button><button onclick="format('italic')">I</button><button onclick="format('insertUnorderedList')">•</button></div>
                    <div id="sm" contenteditable="true" class="rich-editor" data-placeholder="Professional summary..." oninput="liveUpdate()"></div>
                </div>

                <div class="mt-4 d-flex justify-content-between align-items-center"><h6 class="text-info m-0 small">Experience</h6><button class="btn btn-sm glass-btn py-0 px-2" onclick="addExp()">+ Add</button></div>
                <div id="exp-container"></div>

                <div class="mt-4 d-flex justify-content-between align-items-center"><h6 class="text-info m-0 small">Education</h6><button class="btn btn-sm glass-btn py-0 px-2" onclick="addEdu()">+ Add</button></div>
                <div id="edu-container"></div>

                <div class="mt-4 d-flex justify-content-between align-items-center"><h6 class="text-info m-0 small">Projects</h6><button class="btn btn-sm glass-btn py-0 px-2" onclick="addProj()">+ Add</button></div>
                <div id="proj-container"></div>

                <div class="mt-4">
                    <label>Roles & Responsibilities</label>
                    <div class="toolbar"><button onclick="format('bold')">B</button><button onclick="format('italic')">I</button><button onclick="format('insertUnorderedList')">•</button></div>
                    <div id="roles" contenteditable="true" class="rich-editor" data-placeholder="List your core duties..." oninput="liveUpdate()"></div>
                </div>

                <div class="mt-4"><label>Skills</label>
                    <div class="toolbar"><button onclick="format('bold')">B</button><button onclick="format('insertUnorderedList')">•</button></div>
                    <div id="sk" contenteditable="true" class="rich-editor" data-placeholder="Technical/soft skills..." oninput="liveUpdate()"></div>
                </div>
                <div class="mt-4"><label>Certifications</label>
                    <div class="toolbar"><button onclick="format('bold')">B</button><button onclick="format('insertUnorderedList')">•</button></div>
                    <div id="cert" contenteditable="true" class="rich-editor" data-placeholder="Certificates..." oninput="liveUpdate()"></div>
                </div>
                <div class="mt-4"><label>Languages</label>
                    <div class="toolbar"><button onclick="format('bold')">B</button></div>
                    <div id="lang" contenteditable="true" class="rich-editor" data-placeholder="e.g. English, Spanish..." oninput="liveUpdate()"></div>
                </div>

                <div class="mt-4 d-flex justify-content-between align-items-center"><h6 class="text-info m-0 small">References</h6><button class="btn btn-sm glass-btn py-0 px-2" onclick="addRef()">+ Add</button></div>
                <div id="ref-container"></div>

                <div class="mt-4 d-flex justify-content-between align-items-center"><h6 class="text-warning m-0 small">Custom Section</h6><button class="btn btn-sm glass-btn py-0 px-2" onclick="addCustom()">+ Add</button></div>
                <div id="custom-container"></div>

                <div class="mt-4 p-2 bg-dark rounded border border-secondary">
                    <label class="mb-1">Section Order</label>
                    <ul id="section-sort" class="list-group">
                        <li class="list-group-item bg-transparent text-white border-secondary py-1 small" data-id="summary">Summary</li>
                        <li class="list-group-item bg-transparent text-white border-secondary py-1 small" data-id="experience">Experience</li>
                        <li class="list-group-item bg-transparent text-white border-secondary py-1 small" data-id="education">Education</li>
                        <li class="list-group-item bg-transparent text-white border-secondary py-1 small" data-id="projects">Projects</li>
                        <li class="list-group-item bg-transparent text-white border-secondary py-1 small" data-id="roles">Roles & Responsibilities</li>
                        <li class="list-group-item bg-transparent text-white border-secondary py-1 small" data-id="skills">Skills</li>
                        <li class="list-group-item bg-transparent text-white border-secondary py-1 small" data-id="certifications">Certifications</li>
                        <li class="list-group-item bg-transparent text-white border-secondary py-1 small" data-id="languages">Languages</li>
                        <li class="list-group-item bg-transparent text-white border-secondary py-1 small" data-id="references">References</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-lg-7"><div id="resume-wrapper" style="height: calc(100vh - 100px); overflow-y: auto;"><div id="resume-target" class="resume-preview"></div></div></div>
    </div>
</div>

<script>
    let currentStyle = 'apollo';
    const sortable = Sortable.create(document.getElementById('section-sort'), { animation: 150, onEnd: liveUpdate });
    
    function openGallery() {
        const grid = document.getElementById('gallery-grid');
        const layouts = ['Apollo', 'Sidebar', 'Modern', 'Grid', 'Classic', 'Tech', 'Clean', 'Minimal'];
        let html = '';
        for(let i=1; i<=102; i++) {
            const type = layouts[i % layouts.length].toLowerCase();
            const accent = `hsl(${(i * 45) % 360}, 70%, 60%)`;
            html += `<div class="col-md-2 col-sm-4"><div class="template-card" onclick="currentStyle='${type}'; liveUpdate(); closeGallery()"><div class="preview-box ${type}-preview"><div class="mini-sidebar" style="display:${type==='sidebar'?'block':'none'}"></div><div class="mini-dot" style="background:${accent}"></div><div class="mini-head" style="background:${accent}"></div><div class="mini-line"></div><div class="mini-line" style="width:70%"></div></div><div class="text-center text-white-50 mt-1" style="font-size: 10px;">${layouts[i % layouts.length]} ${i}</div></div></div>`;
        }
        grid.innerHTML = html;
        document.getElementById('gallery').style.display = 'block';
    }
    function closeGallery() { document.getElementById('gallery').style.display = 'none'; }
    
    function updateAccent(val) { 
        document.documentElement.style.setProperty('--accent', val); 
        document.documentElement.style.setProperty('--neon', `0 0 10px ${val}99`);
        liveUpdate(); 
    }
    
    function removeEl(id) { document.getElementById(id).remove(); liveUpdate(); }
    function toggleEnd(cb) { cb.parentElement.previousElementSibling.querySelector('.date-end').disabled = cb.checked; liveUpdate(); }

    function addExp() {
        const id = Date.now();
        document.getElementById('exp-container').insertAdjacentHTML('beforeend', `
            <div class="entry-card" id="exp-${id}">
                <input class="form-control mb-1 fw-bold exp-co" placeholder="Company" oninput="liveUpdate()">
                <input class="form-control mb-1 exp-ro" placeholder="Role" oninput="liveUpdate()">
                <input class="form-control mb-1 exp-lo" placeholder="Location" oninput="liveUpdate()">
                <div class="row g-1 mb-1"><div class="col"><input type="month" class="form-control date-start" oninput="liveUpdate()"></div><div class="col"><input type="month" class="form-control date-end" oninput="liveUpdate()"></div></div>
                <div class="form-check mb-1"><input class="form-check-input" type="checkbox" onchange="toggleEnd(this)"><label class="form-check-label text-light small">Current</label></div>
                <div contenteditable="true" class="rich-editor exp-de" data-placeholder="Achievements..." oninput="liveUpdate()"></div>
                <button class="btn btn-sm glass-btn-danger mt-1 w-100" onclick="removeEl('exp-${id}')">Delete</button>
            </div>`);
    }

    function addEdu() {
        const id = Date.now();
        document.getElementById('edu-container').insertAdjacentHTML('beforeend', `
            <div class="entry-card" id="edu-${id}">
                <input class="form-control mb-1 fw-bold edu-sc" placeholder="School" oninput="liveUpdate()">
                <input class="form-control mb-1 edu-dg" placeholder="Degree" oninput="liveUpdate()">
                <div class="row g-1 mb-1"><div class="col"><input type="month" class="form-control date-start" oninput="liveUpdate()"></div><div class="col"><input type="month" class="form-control date-end" oninput="liveUpdate()"></div></div>
                <button class="btn btn-sm glass-btn-danger mt-1 w-100" onclick="removeEl('edu-${id}')">Delete</button>
            </div>`);
    }

    function addProj() {
        const id = Date.now();
        document.getElementById('proj-container').insertAdjacentHTML('beforeend', `
            <div class="entry-card" id="prj-${id}">
                <input class="form-control mb-1 fw-bold prj-ti" placeholder="Project Title" oninput="liveUpdate()">
                <input class="form-control mb-1 prj-ro" placeholder="Role in Project" oninput="liveUpdate()">
                <input class="form-control mb-1 prj-lk" placeholder="Link" oninput="liveUpdate()">
                <div contenteditable="true" class="rich-editor prj-de" data-placeholder="Overview..." oninput="liveUpdate()"></div>
                <button class="btn btn-sm glass-btn-danger mt-1 w-100" onclick="removeEl('prj-${id}')">Delete</button>
            </div>`);
    }

    function addRef() {
        const id = Date.now();
        document.getElementById('ref-container').insertAdjacentHTML('beforeend', `
            <div class="entry-card" id="ref-${id}">
                <input class="form-control mb-1 fw-bold ref-na" placeholder="Name" oninput="liveUpdate()">
                <input class="form-control mb-1 ref-ti" placeholder="Company/Title" oninput="liveUpdate()">
                <input class="form-control mb-1 ref-em" placeholder="Email/Phone" oninput="liveUpdate()">
                <button class="btn btn-sm glass-btn-danger mt-1 w-100" onclick="removeEl('ref-${id}')">Delete</button>
            </div>`);
    }

    function addCustom() {
        const id = Date.now();
        document.getElementById('custom-container').insertAdjacentHTML('beforeend', `
            <div class="entry-card" id="cust-${id}">
                <input class="form-control mb-1 fw-bold cust-ti" placeholder="Section Title" oninput="updateSortList('${id}', this.value); liveUpdate()">
                <div contenteditable="true" class="rich-editor cust-de" data-placeholder="Content..." oninput="liveUpdate()"></div>
                <button class="btn btn-sm glass-btn-danger mt-1 w-100" onclick="removeCustom('${id}')">Delete</button>
            </div>`);
        document.getElementById('section-sort').insertAdjacentHTML('beforeend', `<li class="list-group-item bg-transparent text-info border-info py-1 small" data-id="cust-${id}" id="li-cust-${id}">New Section</li>`);
    }
    function updateSortList(id, val) { document.getElementById('li-cust-'+id).innerText = val || "New Section"; }
    function removeCustom(id) { document.getElementById('li-cust-'+id).remove(); removeEl('cust-'+id); }

    function format(cmd) { document.execCommand(cmd, false, null); liveUpdate(); }

    function getSections(fCol) {
        const order = Array.from(document.querySelectorAll('#section-sort li')).map(li => li.dataset.id);
        const hStyle = `color:${fCol}; border-bottom:2px solid var(--accent); padding-bottom:4px; margin-bottom:12px;`;
        let html = '';
        order.forEach(id => {
            const hasC = (elId) => document.getElementById(elId) && document.getElementById(elId).innerText.trim().length > 0;
            if (id === 'summary' && hasC('sm')) html += `<div class="sec-item"><div class="section-header" style="${hStyle}">About Me</div>${document.getElementById('sm').innerHTML}</div>`;
            if (id === 'experience') {
                const items = Array.from(document.querySelectorAll('#exp-container .entry-card')).filter(e => e.querySelector('.exp-co').value);
                if (items.length) {
                    html += `<div class="sec-item"><div class="section-header" style="${hStyle}">Experience</div>`;
                    items.forEach(el => {
                        const ed = el.querySelector('input[type="checkbox"]').checked ? 'Present' : el.querySelector('.date-end').value;
                        html += `<div class="mb-3"><strong>${el.querySelector('.exp-ro').value}</strong> @ ${el.querySelector('.exp-co').value} <span style="float:right; font-size:0.8rem">${el.querySelector('.date-start').value} - ${ed}</span><br><small>${el.querySelector('.exp-lo').value}</small><div>${el.querySelector('.exp-de').innerHTML}</div></div>`;
                    });
                    html += `</div>`;
                }
            }
            if (id === 'education') {
                const items = Array.from(document.querySelectorAll('#edu-container .entry-card')).filter(e => e.querySelector('.edu-sc').value);
                if (items.length) {
                    html += `<div class="sec-item"><div class="section-header" style="${hStyle}">Education</div>`;
                    items.forEach(el => html += `<div class="mb-2"><strong>${el.querySelector('.edu-sc').value}</strong> <span style="float:right; font-size:0.8rem">${el.querySelector('.date-start').value} - ${el.querySelector('.date-end').value}</span><br>${el.querySelector('.edu-dg').value}</div>`);
                    html += `</div>`;
                }
            }
            if (id === 'projects') {
                const items = Array.from(document.querySelectorAll('#proj-container .entry-card')).filter(e => e.querySelector('.prj-ti').value);
                if (items.length) {
                    html += `<div class="sec-item"><div class="section-header" style="${hStyle}">Projects</div>`;
                    items.forEach(el => html += `<div class="mb-3"><strong>${el.querySelector('.prj-ti').value}</strong> - ${el.querySelector('.prj-ro').value} <br><small>${el.querySelector('.prj-lk').value}</small><div>${el.querySelector('.prj-de').innerHTML}</div></div>`);
                    html += `</div>`;
                }
            }
            if (id === 'roles' && hasC('roles')) html += `<div class="sec-item"><div class="section-header" style="${hStyle}">Roles & Responsibilities</div>${document.getElementById('roles').innerHTML}</div>`;
            if (id === 'skills' && hasC('sk')) html += `<div class="sec-item"><div class="section-header" style="${hStyle}">Skills</div>${document.getElementById('sk').innerHTML}</div>`;
            if (id === 'certifications' && hasC('cert')) html += `<div class="sec-item"><div class="section-header" style="${hStyle}">Certifications</div>${document.getElementById('cert').innerHTML}</div>`;
            if (id === 'languages' && hasC('lang')) html += `<div class="sec-item"><div class="section-header" style="${hStyle}">Languages</div>${document.getElementById('lang').innerHTML}</div>`;
            if (id === 'references') {
                const items = Array.from(document.querySelectorAll('#ref-container .entry-card')).filter(e => e.querySelector('.ref-na').value);
                if (items.length) {
                    html += `<div class="sec-item"><div class="section-header" style="${hStyle}">References</div><div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">`;
                    items.forEach(el => html += `<div><strong>${el.querySelector('.ref-na').value}</strong><br><small>${el.querySelector('.ref-ti').value}</small><br><small>${el.querySelector('.ref-em').value}</small></div>`);
                    html += `</div></div>`;
                }
            }
            if (id.startsWith('cust-')) {
                const el = document.getElementById(id);
                if(el && el.querySelector('.cust-de').innerText.trim()) 
                    html += `<div class="sec-item"><div class="section-header" style="${hStyle}">${el.querySelector('.cust-ti').value.toUpperCase()}</div><div>${el.querySelector('.cust-de').innerHTML}</div></div>`;
            }
        });
        return html;
    }
    
    function liveUpdate() {
        const target = document.getElementById('resume-target');
        const fCol = document.getElementById('fontColor').value;
        const bCol = document.getElementById('bgColor').value;
        target.style.backgroundColor = bCol;
        target.style.color = fCol;
        
        const header = `<div style="margin-bottom:30px; ${currentStyle==='apollo'?'text-align:center':''}">
            <h1 style="margin:0; font-weight:900; font-size:2.5rem; color:var(--accent)">${document.getElementById('fn').value} ${document.getElementById('ln').value}</h1>
            <div style="opacity:0.7">${document.getElementById('em').value} | ${document.getElementById('ph').value} | ${document.getElementById('lc').value}</div>
        </div>`;
        
        if (currentStyle === 'sidebar') {
            target.innerHTML = `<div style="display:grid; grid-template-columns: 220px 1fr; gap: 40px; height:100%"><div style="border-right:1px solid #ddd; padding-right:20px">${header}</div><div>${getSections(fCol)}</div></div>`;
        } else {
            target.innerHTML = header + getSections(fCol);
        }
        
        document.querySelectorAll('.page-break-guide').forEach(g => g.remove());
        const pageH = 1123;
        for(let i=1; i < Math.ceil(target.scrollHeight / pageH); i++) {
            target.insertAdjacentHTML('beforeend', `<div class="page-break-guide" style="top: ${i * pageH}px"></div>`);
        }
    }
    
    function exportPDF() { 
        document.querySelectorAll('.page-break-guide').forEach(g => g.style.display = 'none');
        html2pdf().set({ margin: 0, filename: 'resume.pdf', html2canvas: { scale: 2 }, jsPDF: { unit: 'px', format: [794, 1123] }, pagebreak: { mode: 'avoid-all' } })
        .from(document.getElementById('resume-target')).save().then(() => {
            document.querySelectorAll('.page-break-guide').forEach(g => g.style.display = 'block');
        });
    }
    function exportJSON() { const d = { fn: document.getElementById('fn').value, ln: document.getElementById('ln').value, em: document.getElementById('em').value, ph: document.getElementById('ph').value, lc: document.getElementById('lc').value, accent: document.querySelector('input[type="color"]').value, fontCol: document.getElementById('fontColor').value, bgCol: document.getElementById('bgColor').value, style: currentStyle }; const a = document.createElement('a'); a.href = URL.createObjectURL(new Blob([JSON.stringify(d)], {type: 'application/json'})); a.download = `resume_save.json`; a.click(); }
    function importJSON(e) { const f = e.target.files[0]; if(!f) return; const r = new FileReader(); r.onload = (re) => { const d = JSON.parse(re.target.result); document.getElementById('fn').value = d.fn || ""; document.getElementById('ln').value = d.ln || ""; document.getElementById('em').value = d.em || ""; document.getElementById('ph').value = d.ph || ""; if(d.accent) updateAccent(d.accent); if(d.fontCol) document.getElementById('fontColor').value = d.fontCol; if(d.bgCol) document.getElementById('bgColor').value = d.bgCol; currentStyle = d.style || 'apollo'; liveUpdate(); }; r.readAsText(f); }

    window.onload = () => { addExp(); liveUpdate(); };
</script>
</body>
</html>
